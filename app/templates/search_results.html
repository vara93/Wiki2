{% extends "base.html" %}

{% block content %}
    {{ render_breadcrumbs(breadcrumbs) }}
    <div class="flex items-center justify-between mb-4">
        <div>
            <p class="text-sm text-slate-500">Результаты поиска</p>
            <h1 class="text-2xl font-semibold text-slate-900 mt-1">{{ query or 'Введите запрос' }}</h1>
        </div>
    </div>

    <form action="/search" method="get" class="mb-4 flex gap-2">
        <input type="text" name="query" value="{{ query }}" placeholder="Что ищем?" class="w-full rounded-md border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <button type="submit" class="px-3 py-2 text-sm rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700">Искать</button>
    </form>

    {% if results %}
        <ul class="space-y-4">
            {% for item in results %}
                <li class="p-4 border border-slate-200 rounded-lg hover:border-blue-200 transition">
                    <a href="/docs/{{ item.path }}" class="text-lg font-semibold text-blue-700 hover:underline">{{ item.title }}</a>
                    <p class="text-sm text-slate-500 mt-1 font-mono">{{ item.path }}</p>
                    <p class="text-sm text-slate-700 mt-2">{{ item.snippet | safe }}</p>
                </li>
            {% endfor %}
        </ul>
    {% elif query %}
        <p class="text-slate-600">Ничего не найдено по запросу.</p>
    {% else %}
        <p class="text-slate-600">Введите строку для поиска по документам.</p>
    {% endif %}
{% endblock %}
